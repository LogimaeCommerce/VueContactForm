{"remainingRequest":"/Users/dutyuzh/Sites/dashautyuzh.io/node_modules/babel-loader/lib/index.js!/Users/dutyuzh/Sites/dashautyuzh.io/node_modules/eslint-loader/index.js??ref--13-0!/Users/dutyuzh/Sites/dashautyuzh.io/src/plugins/device-queries/index.js","dependencies":[{"path":"/Users/dutyuzh/Sites/dashautyuzh.io/src/plugins/device-queries/index.js","mtime":1534793018000},{"path":"/Users/dutyuzh/Sites/dashautyuzh.io/node_modules/cache-loader/dist/cjs.js","mtime":1530108614324},{"path":"/Users/dutyuzh/Sites/dashautyuzh.io/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/dutyuzh/Sites/dashautyuzh.io/node_modules/eslint-loader/index.js","mtime":1499322156000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport matchMedia from './match-media';\nexport default {\n  install: function install(Vue, queries) {\n    var DeviceVM = new Vue({\n      data: function data() {\n        return {\n          devices: {}\n        };\n      },\n      methods: {\n        addDevice: function addDevice(name, active) {\n          var _this = this;\n\n          this.$set(this.devices, name, active);\n          return function (_ref) {\n            var matches = _ref.matches;\n            _this.devices[name] = matches;\n          };\n        }\n      }\n    });\n    Object.keys(queries).forEach(function (name) {\n      var query = matchMedia(\"(\".concat(queries[name], \")\"));\n      var update = DeviceVM.addDevice(name, query.matches);\n      query.addListener(update);\n    });\n    Vue.prototype.$device = DeviceVM.devices;\n  }\n};",{"version":3,"sources":["src/plugins/device-queries/index.js"],"names":["matchMedia","install","Vue","queries","DeviceVM","data","devices","methods","addDevice","name","active","$set","matches","Object","keys","forEach","query","update","addListener","prototype","$device"],"mappings":";;;;AAAA,OAAOA,UAAP,MAAuB,eAAvB;AAEA,eAAe;AACbC,SADa,mBACLC,GADK,EACAC,OADA,EACS;AACpB,QAAMC,WAAW,IAAIF,GAAJ,CAAQ;AACvBG,UADuB,kBAChB;AACL,eAAO;AACLC,mBAAS;AADJ,SAAP;AAGD,OALsB;AAOvBC,eAAS;AACPC,iBADO,qBACGC,IADH,EACSC,MADT,EACiB;AAAA;;AACtB,eAAKC,IAAL,CAAU,KAAKL,OAAf,EAAwBG,IAAxB,EAA8BC,MAA9B;AAEA,iBAAO,gBAAiB;AAAA,gBAAdE,OAAc,QAAdA,OAAc;AACtB,kBAAKN,OAAL,CAAaG,IAAb,IAAqBG,OAArB;AACD,WAFD;AAGD;AAPM;AAPc,KAAR,CAAjB;AAkBAC,WAAOC,IAAP,CAAYX,OAAZ,EAAqBY,OAArB,CAA6B,gBAAQ;AACnC,UAAIC,QAAQhB,sBAAeG,QAAQM,IAAR,CAAf,OAAZ;AACA,UAAIQ,SAASb,SAASI,SAAT,CAAmBC,IAAnB,EAAyBO,MAAMJ,OAA/B,CAAb;AACAI,YAAME,WAAN,CAAkBD,MAAlB;AACD,KAJD;AAMAf,QAAIiB,SAAJ,CAAcC,OAAd,GAAwBhB,SAASE,OAAjC;AACD;AA3BY,CAAf","sourceRoot":"/Users/dutyuzh/Sites/dashautyuzh.io","sourcesContent":["import matchMedia from './match-media'\n\nexport default {\n  install(Vue, queries) {\n    const DeviceVM = new Vue({\n      data() {\n        return {\n          devices: {}\n        }\n      },\n\n      methods: {\n        addDevice(name, active) {\n          this.$set(this.devices, name, active)\n\n          return ({ matches }) => {\n            this.devices[name] = matches\n          }\n        }\n      }\n    })\n\n    Object.keys(queries).forEach(name => {\n      let query = matchMedia(`(${queries[name]})`)\n      let update = DeviceVM.addDevice(name, query.matches)\n      query.addListener(update)\n    })\n\n    Vue.prototype.$device = DeviceVM.devices\n  }\n}\n"]}]}